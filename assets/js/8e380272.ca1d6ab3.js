"use strict";(self.webpackChunksonallux_github_io=self.webpackChunksonallux_github_io||[]).push([[2465],{5469:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var i=t(5893),s=t(1151);const l={tags:["frontend","angular"]},a="Signals",r={id:"frontend/angular/signals",title:"Signals",description:"A signal is a wrapper around a value that can notify interested consumers when that value changes. Because Angular Signals granularly track how and where your state is used throughout an application, the framework can optimize rendering updates.",source:"@site/docs/frontend/angular/signals.md",sourceDirName:"frontend/angular",slug:"/frontend/angular/signals",permalink:"/docs/frontend/angular/signals",draft:!1,unlisted:!1,editUrl:"https://github.com/sonallux/sonallux.github.io/tree/main/docs/frontend/angular/signals.md",tags:[{label:"frontend",permalink:"/docs/tags/frontend"},{label:"angular",permalink:"/docs/tags/angular"}],version:"current",frontMatter:{tags:["frontend","angular"]},sidebar:"defaultSidebar",previous:{title:"Microfrontend",permalink:"/docs/frontend/angular/microfrontends"},next:{title:"Core Web Vitals",permalink:"/docs/frontend/core-web-vitals"}},o={},c=[{value:"Signal functions",id:"signal-functions",level:2},{value:"<code>signal()</code> - stable since 17.0",id:"signal---stable-since-170",level:3},{value:"<code>computed()</code> - stable since 17.0",id:"computed---stable-since-170",level:3},{value:"<code>effect()</code> - developer preview since 17.0",id:"effect---developer-preview-since-170",level:3},{value:"<code>input()</code> - developer preview - since 17.1",id:"input---developer-preview---since-171",level:3},{value:"Signal queries - developer preview since 17.2",id:"signal-queries---developer-preview-since-172",level:3},{value:"<code>model()</code> signals - developer preview since 17.2",id:"model-signals---developer-preview-since-172",level:3},{value:"<code>output()</code> function - developer preview since 17.3",id:"output-function---developer-preview-since-173",level:3},{value:"NGRX SignalStore",id:"ngrx-signalstore",level:2},{value:"Debugging Signals",id:"debugging-signals",level:2},{value:"Signal Forms",id:"signal-forms",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"signals",children:"Signals"}),"\n",(0,i.jsx)(n.p,{children:"A signal is a wrapper around a value that can notify interested consumers when that value changes. Because Angular Signals granularly track how and where your state is used throughout an application, the framework can optimize rendering updates."}),"\n",(0,i.jsx)(n.p,{children:"As Angular must be able to detect changes of the signal value, it must be immutable."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Video ",(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=sbIlz-yuxQI",children:"In-depth Angular Signals, mental models for reactive graph, push / pull, laziness and more! \ud83d\udea5"})," by Tomas Trajan."]}),"\n",(0,i.jsxs)(n.li,{children:["Signals have an effect on change detection in Angular. Refer to the dedicated section about ",(0,i.jsx)(n.a,{href:"change-detection",children:"change detection"})," to learn more about this."]}),"\n",(0,i.jsxs)(n.li,{children:["Blog Post ",(0,i.jsx)(n.a,{href:"https://dev.to/ducin/signals-are-values-not-events-10bn",children:"Signals are VALUES, not EVENTS"})," by Tomasz Ducin"]}),"\n",(0,i.jsxs)(n.li,{children:["Blog Post ",(0,i.jsx)(n.a,{href:"https://www.angulararchitects.io/en/blog/component-communication-with-signals-inputs-two-way-bindings-and-content-view-queries",children:"Component Communication with Signals"})," by Manfred Steyer"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"signal-functions",children:"Signal functions"}),"\n",(0,i.jsxs)(n.h3,{id:"signal---stable-since-170",children:[(0,i.jsx)(n.code,{children:"signal()"})," - stable since 17.0"]}),"\n",(0,i.jsxs)(n.p,{children:["Creates a writeable signal, that can be updated using ",(0,i.jsx)(n.code,{children:"x.set()"})," or ",(0,i.jsx)(n.code,{children:"x.update()"})," methods."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const counter = signal(0);\n\ncounter.set(2);\ncounter.update(count => count + 1);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"computed---stable-since-170",children:[(0,i.jsx)(n.code,{children:"computed()"})," - stable since 17.0"]}),"\n",(0,i.jsxs)(n.p,{children:["Memoizing signal, which calculates its value from the values of other signals. A computed signal is not writable. Note that it is not allowed writing to signals in a ",(0,i.jsx)(n.code,{children:"computed"})," by default. This is a safety facility that no cycles are created."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const counter = signal(0);\n\n// Automatically updates when `counter` changes:\nconst isEven = computed(() => counter() % 2 === 0);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"effect---developer-preview-since-170",children:[(0,i.jsx)(n.code,{children:"effect()"})," - developer preview since 17.0"]}),"\n",(0,i.jsxs)(n.p,{children:["Get notified when signals have changed their value. The ",(0,i.jsx)(n.code,{children:"effect()"})," function can only be used in an injection context. Note that it is not allowed writing to signals in a ",(0,i.jsx)(n.code,{children:"effect"})," by default. This is a safety facility that no cycles are created. If you really want to write signals, set ",(0,i.jsx)(n.code,{children:"allowSignalWrites"})," in the ",(0,i.jsx)(n.code,{children:"CreateEffectOptions"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const counter = signal(0);\neffect(() => console.log('The counter is:', counter()));\n// The counter is: 0\n\ncounter.set(1);\n// The counter is: 1\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"input---developer-preview---since-171",children:[(0,i.jsx)(n.code,{children:"input()"})," - developer preview - since 17.1"]}),"\n",(0,i.jsxs)(n.p,{children:["Signal input is a signal-based alternative to the traditional ",(0,i.jsx)(n.code,{children:"@Input"})," decorator"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"@Component({\n  template: `<h1>Counter value: {{ value() }}</h1>`,\n})\nexport class Component {\n  // returns Signal<number>\n  value = input(0);\n  \n  // returns Signal<string>\n  firstName = input.required<string>();\n\n  // returns Signal<string | undefined>\n  lastName = input<string>();\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Angular Blog Post ",(0,i.jsx)(n.a,{href:"https://blog.angular.io/signal-inputs-available-in-developer-preview-6a7ff1941823",children:"Signal Input is now available in developer preview"})," by Paul Gschwendtner"]}),"\n",(0,i.jsxs)(n.li,{children:["Blog Post ",(0,i.jsx)(n.a,{href:"https://justangular.com/blog/signal-inputs-are-here-to-change-the-game?s=09",children:"Angular Signal Inputs are here to change the game \ud83c\udfb2"})," by Enea"]}),"\n",(0,i.jsxs)(n.li,{children:["Blog Post ",(0,i.jsx)(n.a,{href:"https://angularexperts.io/blog/angular-signal-inputs",children:"Angular Signal Inputs"})," by Kevin Kreuzer"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"signal-queries---developer-preview-since-172",children:"Signal queries - developer preview since 17.2"}),"\n",(0,i.jsxs)(n.p,{children:["Signal queries are a signal-based alternative to the traditional ",(0,i.jsx)(n.code,{children:"@ViewChild"}),", ",(0,i.jsx)(n.code,{children:"@ViewChildren"}),", ",(0,i.jsx)(n.code,{children:"@ContentChild"})," or ",(0,i.jsx)(n.code,{children:"@ContentChildren"})," decorator"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import {contentChild, contentChildren, viewChild, viewChildren} from '@angular/core';\n\n@Component({\n  template: `\n  <div #el>element to query</div>\n  <ng-content></ng-content>\n  `\n})\nexport class Component {\n  // returns Signal<ElementRef<HTMLDivElement> | undefined>\n  divEl = viewChild<ElementRef<HTMLDivElement>>('el');\n\n  // returns Signal<ElementRef<HTMLDivElement>>\n  divElRequired = viewChild.required<ElementRef<HTMLDivElement>>('el');\n\n  // returns Signal<ReadonlyArray<ElementRef<HTMLDivElement>>>\n  divEls = viewChildren<ElementRef<HTMLDivElement>>('el');\n\n  // returns Signal<TestComponent | undefined>\n  testComponent = contentChild(TestComponent);\n\n  // returns Signal<TestComponent>\n  testComponentRequired = contentChild.required(TestComponent);\n  \n  // returns Signal<ReadonlyArray<TestComponent>>\n  testComponents = contentChildren(TestComponent)\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"model-signals---developer-preview-since-172",children:[(0,i.jsx)(n.code,{children:"model()"})," signals - developer preview since 17.2"]}),"\n",(0,i.jsx)(n.p,{children:"Model signals are exposed as input/output pair to be used by the parent component."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'@Component({\n  selector: \'custom-checkbox\',\n  template: `\n    <div class="cool-checkbox-treatment">\n      <input type="checkbox" (click)="toggle()" [value]="checked()">\n    </div>\n  `\n})\nexport class CustomCheckbox {\n  checked = model(false); // returns ModelSignal<number>\n\n  toggle() {\n    this.checked.set(!this.checked());\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Blog Post ",(0,i.jsx)(n.a,{href:"https://itnext.io/model-inputs-reactive-two-way-binding-29a40c7626f2",children:"Model Inputs: Reactive Two-Way Binding"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"output-function---developer-preview-since-173",children:[(0,i.jsx)(n.code,{children:"output()"})," function - developer preview since 17.3"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"output()"})," allows you to define our components output similar to ",(0,i.jsx)(n.code,{children:"input()"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'@Component({\n  selector: \'custom-checkbox\',\n  template: `\n    <div class="cool-checkbox-treatment">\n      <input type="checkbox" (click)="checkedChange.emit(!checked())" [value]="checked()">\n    </div>\n  `\n})\nexport class CustomCheckbox {\n  checked = input(false);\n  checkedChange = output<boolean>(); // returns OutputEmitterRef<boolean>\n\n  private nameChange$ = new Subject<string>(); // any observable\n  nameChange = outputFromObservable(this.nameChange$); // returns OutputEmitterRef<string>\n  \n  checkedChangeEvents = outputToObservable(this.checkedChange); // returns Observable<boolean>\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ngrx-signalstore",children:"NGRX SignalStore"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.angulararchitects.io/en/presentations/angular-architectures-with-signals-5",children:"EnterJS Angular Day Presentation from Manfred Steyer"})}),"\n",(0,i.jsxs)(n.p,{children:["Standalone Store from the NGRX team built completely on top of Signals. It is lightweight and independent form the well known NGRX Store based on the Redux pattern.\nInstall using ",(0,i.jsx)(n.code,{children:"npm i @ngrx/signals"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.angulararchitects.io/blog/the-new-ngrx-signal-store-for-angular-2-1-flavors/",children:"The new NGRX Signal Store for Angular: 3 + 1 Flavors"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.angulararchitects.io/blog/smarter-not-harder-simplifying-your-application-with-ngrx-signal-store-and-custom-features/",children:"Custom Features"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"debugging-signals",children:"Debugging Signals"}),"\n",(0,i.jsx)(n.p,{children:"The Angular Team is planning to add debugging capabilities for signals into the Angular Dev Tools."}),"\n",(0,i.jsx)(n.h2,{id:"signal-forms",children:"Signal Forms"}),"\n",(0,i.jsxs)(n.p,{children:["Because there is currently no support for signals in Forms, the community created ",(0,i.jsx)(n.code,{children:"ng-signal-forms"}),". ",(0,i.jsx)(n.a,{href:"https://timdeschryver.dev/blog/bringing-the-power-of-signals-to-angular-forms-with-signal-forms?tldr=1",children:"This Blog Post"})," is a nice introduction into this library."]})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var i=t(7294);const s={},l=i.createContext(s);function a(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);